---
import BaseLayout from "../../layouts/BaseLayout.astro";
const pageTitle = "Tag Index";

const allPosts = await Astro.glob("../posts/*.md");
const tags = [...new Set(allPosts.map((post) => post.frontmatter.tags).flat())];
---

<style>
a{
    color: #00539F;
    text-decoration-style: wavy;
}
.tags {
        display: flex;
        flex-wrap: wrap;
}
.tag {
        margin: 0.25rem;
        border: dotted 1px #a1a1a1;
        border-radius: .5em;
        padding: .5em 1em;
        font-size: 1.5em;
        background-color: #F8FCFD;
}

</style>

<BaseLayout pageTitle={pageTitle}>
        <div class="tags">
            {
                tags.map((tag) => {
                        return <p class="tag">
                            <a href=`/tags/${tag}`>{tag}</a>
                        </p>
                })
            }
        </div>
</BaseLayout>

<!--
- Why do we have 2nd index page in tags ?
- This is another type of routing Astro provides, this way we can keep all the files related to tags together.
-->
